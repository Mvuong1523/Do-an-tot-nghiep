### =====================================================
### TEST API HOÀN THIỆN PHIẾU NHẬP KHO
### =====================================================

### 1. Đăng nhập để lấy token
POST http://localhost:8080/api/auth/login
Content-Type: application/json

{
  "email": "admin@webtmdt.com",
  "password": "admin123"
}

### 2. Xem danh sách phiếu nhập (để lấy ID)
GET http://localhost:8080/api/inventory/purchase-orders?status=CREATED
Authorization: Bearer {{token}}

### 3. Xem chi tiết phiếu nhập (thay {id} bằng ID thực tế)
GET http://localhost:8080/api/inventory/purchase-orders/8
Authorization: Bearer {{token}}

### 4. Hoàn thiện phiếu nhập - MẪU ĐÚNG
POST http://localhost:8080/api/inventory/import
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "poId": 8,
  "receivedDate": "2024-12-20T10:00:00",
  "serials": [
    {
      "productSku": "IP14-256-WHT",
      "serialNumbers": [
        "IP14WHT001",
        "IP14WHT002",
        "IP14WHT003",
        "IP14WHT004",
        "IP14WHT005",
        "IP14WHT006",
        "IP14WHT007"
      ]
    }
  ]
}

### 5. Hoàn thiện phiếu nhập PO-2024-009 (Samsung M34)
POST http://localhost:8080/api/inventory/import
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "poId": 9,
  "receivedDate": "2024-12-20T11:00:00",
  "serials": [
    {
      "productSku": "SS-M34-128-BLU",
      "serialNumbers": [
        "SSM34BLU001",
        "SSM34BLU002",
        "SSM34BLU003",
        "SSM34BLU004",
        "SSM34BLU005",
        "SSM34BLU006",
        "SSM34BLU007",
        "SSM34BLU008",
        "SSM34BLU009",
        "SSM34BLU010",
        "SSM34BLU011",
        "SSM34BLU012",
        "SSM34BLU013",
        "SSM34BLU014",
        "SSM34BLU015",
        "SSM34BLU016",
        "SSM34BLU017",
        "SSM34BLU018"
      ]
    }
  ]
}

### 6. Hoàn thiện phiếu nhập PO-2024-010 (OPPO A77)
POST http://localhost:8080/api/inventory/import
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "poId": 10,
  "receivedDate": "2024-12-20T14:00:00",
  "serials": [
    {
      "productSku": "OP-A77-128-BLK",
      "serialNumbers": [
        "OPA77BLK001", "OPA77BLK002", "OPA77BLK003", "OPA77BLK004", "OPA77BLK005",
        "OPA77BLK006", "OPA77BLK007", "OPA77BLK008", "OPA77BLK009", "OPA77BLK010",
        "OPA77BLK011", "OPA77BLK012", "OPA77BLK013", "OPA77BLK014", "OPA77BLK015",
        "OPA77BLK016", "OPA77BLK017", "OPA77BLK018", "OPA77BLK019", "OPA77BLK020",
        "OPA77BLK021", "OPA77BLK022", "OPA77BLK023", "OPA77BLK024", "OPA77BLK025"
      ]
    }
  ]
}

### =====================================================
### LƯU Ý QUAN TRỌNG
### =====================================================
/*
1. poId PHẢI là số (Long), KHÔNG phải string
2. productSku phải khớp với SKU trong purchase_order_items
3. Số lượng serial phải bằng quantity trong purchase order item
4. receivedDate có thể null hoặc ISO datetime format
5. Mỗi serial phải unique trong toàn hệ thống

LỖI THƯỜNG GẶP:
- "The given id must not be null" → poId bị null hoặc undefined
- "SKU not found" → productSku không tồn tại trong PO
- "Serial count mismatch" → Số serial không khớp với quantity
*/
